<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Master Consistency — Daily Consistency</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Gumroad overlay script (opens checkout modal) -->
  <script defer src="https://gumroad.com/js/gumroad.js"></script>

  <!-- Social/meta (replace OG image when ready) -->
  <meta property="og:title" content="Master Consistency — 30 Day Framework" />
  <meta property="og:description" content="Build daily discipline. Push through the dips. Let momentum do the work." />
  <meta name="theme-color" content="#08172F" />
</head>
<body class="bg-[#08172F] text-white font-sans antialiased">

  <!-- Header -->
  <header class="w-full py-6 px-6 flex items-center justify-between">
    <div class="text-lg font-bold">DailyConsistency</div>
    <nav class="space-x-4 text-sm">
      <a href="#what" class="opacity-80 hover:opacity-100">What</a>
      <a href="#video" class="opacity-80 hover:opacity-100">Watch</a>
      <a href="#faq" class="opacity-80 hover:opacity-100">FAQ</a>
    </nav>
  </header>

  <!-- HERO -->
  <section class="min-h-[70vh] flex flex-col items-center justify-center px-6 text-center">
    <h1 class="text-4xl md:text-6xl font-extrabold leading-tight mb-4">Master Consistency. Build Real Momentum.</h1>
    <p class="text-gray-300 max-w-2xl mb-6">A practical, no-BS guide to build unbreakable habits — even if you’ve failed before.</p>

    <!-- Primary CTA: Gumroad overlay (one click opens checkout modal) -->
    <a class="gumroad-button inline-block bg-white text-[#08172F] px-8 py-3 rounded-xl font-bold shadow-md hover:opacity-95"
       href="https://gumroad.com/l/tcagnp">
      Buy Now — £49.99
    </a>

    <p class="text-sm text-gray-400 mt-4">
  Instant download • Lifetime access • If delivery fails, email 
  <a href="mailto:support@dailyconsistency.com" class="underline">harry@leechu.co.uk</a> and we’ll fix it fast.
</p>
  </section>

 <!-- WHAT -->
<section id="what" class="py-12 px-6">
  <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8 items-center">
    
    <!-- Left column -->
    <div>
      <h2 class="text-2xl font-bold mb-3">What you get</h2>
      <ul class="text-gray-200 space-y-2">
        <li>• Clear actionable steps you can follow every day.</li>
        <li>• Explanations why these actionable steps work.</li>
        <li>• Environment, mindset & accountability .</li>
      </ul>

      <div class="mt-6">
        <a class="gumroad-button inline-block bg-white text-[#08172F] px-6 py-2 rounded-lg font-semibold shadow" href="https://gumroad.com/l/tcagnp">
          Buy Now — £49.99
        </a>
      </div>
    </div>

    <!-- Right column (Sneak Peek) -->
    <div onclick="openPreview()" class="cursor-pointer rounded-lg bg-white/5 p-6 hover:opacity-90 transition">
      <h2 class="text-2xl font-bold mb-3">Sneak Peek</h2>
     <div class="relative max-w-[250px] mx-auto h-40 rounded-lg overflow-hidden shadow-lg">
        <img src="slide1.png" alt="Preview slide 1"
             class="w-full h-full object-contain bg-[#08172F] opacity-50 hover:opacity-70 transition-opacity duration-300">
        <div class="absolute inset-0 flex items-center justify-center backdrop-blur-sm bg-[#08172F]/40">
          <span class="text-white px-4 py-2 rounded-lg font-semibold shadow-lg border border-white/30">
            View More
          </span>
        </div>
      </div>
    </div>

  </div> <!-- ✅ closes the grid -->
</section> <!-- ✅ closes WHAT -->

<!-- VIDEO -->
<section id="video" class="py-12 px-6">
  <div class="max-w-3xl mx-auto text-center">
    <h3 class="text-xl font-bold mb-3">Watch: Product Details (90s)</h3>
    <div class="aspect-video rounded-lg overflow-hidden shadow-lg">
      <iframe src="https://www.youtube.com/embed/VIDEO_ID?rel=0&modestbranding=1"
              title="Consistency explainer"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen class="w-full h-full"></iframe>
    </div>
  </div>
</section>

   <!-- ⭐ Reviews -->
<section id="reviews" class="py-12 px-6">
  <div class="max-w-3xl mx-auto">
    <h2 class="text-2xl font-bold mb-4">Reviews</h2>

    <!-- Leave a review -->
    <form id="reviewForm" class="space-y-4 bg-white/5 p-6 rounded-xl shadow">
      <div class="grid md:grid-cols-2 gap-3">
        <input class="p-3 rounded bg-white/10 w-full" type="text" name="name" placeholder="Your name" required>
        <input class="p-3 rounded bg-white/10 w-full" type="email" name="email" placeholder="Your email" required>
      </div>

      <div class="space-y-3">
  <div>
    <label class="block text-sm text-gray-300 mb-1">Your rating</label>
  <select id="ratingSelect" name="rating" required 
  class="p-3 rounded bg-gray-800 text-white w-full focus:ring-2 focus:ring-yellow-400">
      <option value="" disabled selected>Select your rating</option>
      <option value="5">★★★★★ — Amazing</option>
      <option value="4">★★★★☆ — Good</option>
      <option value="3">★★★☆☆ — Okay</option>
      <option value="2">★★☆☆☆ — Poor</option>
      <option value="1">★☆☆☆☆ — Bad</option>
    </select>
  </div>

 <!-- Positive Feedback (4–5 stars) -->
<div id="positiveFeedbackBox" class="hidden mt-4">
  <label for="commentBox" class="block text-gray-300 mb-2">What did you like?</label>
  <textarea id="commentBox" name="comment" rows="3"
    class="w-full p-3 rounded bg-gray-800 text-white focus:ring-2 focus:ring-yellow-400"
    placeholder="Tell us what you liked..."></textarea>
</div>

<!-- Private Feedback (1–3 stars) -->
<div id="privateFeedbackBox" class="hidden mt-4">
  <label for="privateFeedback" class="block text-gray-300 mb-2">Private Feedback (only I can see this):</label>
  <textarea id="privateFeedback" name="privateFeedback" rows="3"
    class="w-full p-3 rounded bg-gray-800 text-white focus:ring-2 focus:ring-yellow-400"
    placeholder="What could I improve?"></textarea>
</div>

    <!-- Public 4–5★ reviews appear here -->
    <div class="mt-8">
      <h3 class="text-xl font-bold mb-3">What customers are saying</h3>
      <div id="publicReviews" class="grid md:grid-cols-2 gap-4"></div>
    </div>
  </div>
</section>  

  <!-- FAQ + Footer -->
  <section id="faq" class="py-10 px-6 bg-white/5">
    <div class="max-w-3xl mx-auto text-gray-200">
      <h4 class="text-lg font-bold mb-3">FAQ</h4>
      <details class="mb-2">
        <summary class="cursor-pointer">How do I get the guide?</summary>
        <p class="mt-2 text-sm">After purchase you get an instant download link and an email receipt from Gumroad.</p>
      </details>
     <details class="mb-2">
  <summary class="cursor-pointer">Delivery & Support</summary>
  <p class="mt-2 text-sm">
    This is a digital download, so all sales are final. If you don’t receive your files or have a technical issue,
    email <a href="mailto:support@dailyconsistency.com" class="underline">support@dailyconsistency.com</a> and we’ll resend or restore access promptly.
  </p>
</details>

      <div class="mt-6 text-sm text-gray-400">© 2025 DailyConsistency — harry@leechu.co.uk</div>
    </div>
  </section>


  <!-- Hidden Modal -->
<div id="previewModal" class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
  <div class="bg-[#08172F] p-4 rounded-lg max-w-lg w-full relative">
    <button onclick="closePreview()" class="absolute top-2 right-2 text-white text-lg font-bold">X</button>
    <div id="slideContainer" class="text-center">
      <img src="slide1.png" id="slideImage" class="max-w-full rounded-lg mx-auto">
      <p id="slideCaption" class="mt-2 text-gray-300"></p>
    </div>
    <div class="flex justify-between mt-4">
      <button onclick="prevSlide()" class="bg-gray-700 text-white px-4 py-2 rounded">Previous</button>
      <button onclick="nextSlide()" class="bg-gray-700 text-white px-4 py-2 rounded">Next</button>
    </div>
  </div>
</div>

<script>
let slides = [
  {src: "slide1.png", caption: "Module 1 Overview"},
  {src: "slide2.png", caption: "Module 2 Breakdown"},
  {src: "slide3.png", caption: "Module 3 Templates"}
];
let currentSlide = 0;

function openPreview() {
  document.getElementById('previewModal').classList.remove('hidden');
  showSlide(currentSlide);
}

function closePreview() {
  document.getElementById('previewModal').classList.add('hidden');
}

function showSlide(index) {
  document.getElementById('slideImage').src = slides[index].src;
  document.getElementById('slideCaption').textContent = slides[index].caption;
}

function nextSlide() {
  currentSlide = (currentSlide + 1) % slides.length;
  showSlide(currentSlide);
}

function prevSlide() {
  currentSlide = (currentSlide - 1 + slides.length) % slides.length;
  showSlide(currentSlide);
}
</script>
<script>
/* ====== SETTINGS: replace these two if different ====== */
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbxaASgdQ1ssjzOYSUk1HZtO-el7gjAdY0wRz9Y_SIxM65lrC8ClKFn9Gp0v4glpwXBP/exec";
const SHEET_ID    = "1ywHtna9t8V6nt7105qhKhfjs1PEq5temkJS3YzjZbRM";
/* ======================================== */

const SHEET_NAME = "Reviews"; // must match your sheet tab name

document.addEventListener("DOMContentLoaded", () => {
  // Elements
  const ratingSelect = document.getElementById("ratingSelect");
  const commentBox = document.getElementById("commentBox");
  const privateFeedbackBox = document.getElementById("privateFeedbackBox");
  const form = document.getElementById("reviewForm");
  const msg = document.getElementById("reviewMsg");
  const publicContainer = document.getElementById("publicReviews");

  // Safety: if elements missing, stop
  if (!ratingSelect || !form || !publicContainer) return;


// Toggle review boxes based on rating
ratingSelect.addEventListener("change", () => {
  const val = Number(ratingSelect.value) || 0;

  if (val >= 4) {
    // Show positive feedback box
    document.getElementById("positiveFeedbackBox").classList.remove("hidden");
    document.getElementById("privateFeedbackBox").classList.add("hidden");
  } else if (val > 0 && val <= 3) {
    // Show private feedback box
    document.getElementById("privateFeedbackBox").classList.remove("hidden");
    document.getElementById("positiveFeedbackBox").classList.add("hidden");
  } else {
    // Hide both if nothing selected
    document.getElementById("positiveFeedbackBox").classList.add("hidden");
    document.getElementById("privateFeedbackBox").classList.add("hidden");
  }
});

  // Form submit handler: sends to Apps Script
  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    msg.textContent = "";

    const fd = new FormData(form);
    const rating = Number(fd.get("rating") || 0);
    const comment = (fd.get("comment") || "").trim();
    const privateFeedback = (document.getElementById("privateFeedback").value || "").trim();

    // Put fields into FormData explicitly so Apps Script receives them
    fd.set("rating", String(rating));
    if (rating <= 3) {
      // low rating -> private feedback column, leave public comment blank
      fd.set("comment", "");
      fd.set("privateFeedback", privateFeedback);
    } else {
      // high rating -> public comment, empty private
      fd.set("comment", comment);
      fd.set("privateFeedback", "");
    }

    try {
      // We use no-cors so request will be sent; response is opaque (can't read it)
      await fetch(WEB_APP_URL, { method: "POST", body: fd, mode: "no-cors" });
      msg.textContent = "Thanks! Your review was submitted.";
      form.reset();
      commentBox.classList.add("hidden");
      privateFeedbackBox.classList.add("hidden");
      loadReviews(); // refresh public list
    } catch (err) {
      msg.textContent = "Something went wrong. Try again in a minute.";
    }
  });

  // Public feed URL (Google Visualization)
  const FEED_URL =
    `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq` +
    `?sheet=${encodeURIComponent(SHEET_NAME)}` +
    `&tqx=out:json&tq=${encodeURIComponent('select * order by A desc')}`;

  function escapeHtml(s) {
    return (s || "").replace(/[&<>"']/g, m => ({
      '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'
    }[m]));
  }

  // Load and show only public 4–5★ reviews (skips any private feedback rows)
  async function loadReviews() {
    try {
      const res = await fetch(FEED_URL);
      const text = await res.text();
      // convert google's wrapper to JSON
      const json = JSON.parse(text.substring(text.indexOf('{'), text.lastIndexOf(')')));
      const rows = (json.table.rows || []);
      publicContainer.innerHTML = "";

      rows.forEach(r => {
        // Column mapping (A=timestamp, B=name, C=email, D=review, E=rating, F=privateFeedback)
        const name = r.c[1]?.v || "Anonymous";
        const review = r.c[3]?.v || "";
        const rating = Number(r.c[4]?.v || 0);
        const privateFeedback = r.c[5]?.v || "";

        // Show only 4-5 star items and skip private feedback rows
        if (rating >= 4 && review && (!privateFeedback || privateFeedback.trim() === "")) {
          const stars = "★".repeat(rating) + "☆".repeat(5 - rating);
          publicContainer.innerHTML += `
            <div class="bg-gray-100 text-gray-800 p-4 rounded-xl shadow">
              <div class="text-yellow-500 text-lg">${stars}</div>
              <p class="mt-2">${escapeHtml(review)}</p>
              <div class="mt-2 text-sm text-gray-600">— ${escapeHtml(name)}</div>
            </div>`;
        }
      });
    } catch (err) {
      // ignore silently (sheet not public/published yet)
    }
  }

  // initial load
  loadReviews();
});
</script>

// Load public reviews on page open
loadReviews();
</script>

</body>
</html> 
